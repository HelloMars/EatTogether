<div class="s-bill">
    <ng-include src="'./html/nav.html'"></ng-include>
    <div class="bill">
        <h1>今天我买单</h1>
        <h2>
            <label for="mode">
                <input type="checkbox" id="mode" name="mode" ng-model="abMode">筹款模式
            </label>
        </h2>
        <h2>聚餐团员：{{curTotal}} 人 <label for="all"><input ng-click="selectAll()" type="checkbox" id="all" ng-model="all"/>全选</label></h2>
        <div class="members">
            <label hm-hold="setMoney(member)" ng-style="member.avatarBg" ng-class="{choosen : member.inThis}" ng-repeat="member in members">
                <input type="checkbox" ng-change="changeMember()" ng-model="member.inThis">
                <p>{{member.moneySpent === 0 ? member.name : member.moneySpent}}</p>
            </label>
        </div>
        <h2 ng-show="!abMode">非团员：<input type="number" placeholder="0" ng-model="notMember"></h2>
        <h2>{{curTotal + notMember}}人共消费：
            <input type="number" placeholder="输入买单金额" ng-model="totalMoney" >
            <span class="tips" ng-show="abMode" ng-click="abModeTipShow = !abModeTipShow">?</span>
            <div class="tip-panel" ng-show="abModeTipShow">
                筹款模式下"总消费"金额选填。不填时当所有人都已付款则自动结束筹款，不验证筹款总额。
            </div>
        </h2>
        <h2 ng-show="!abMode">人均：<span class="average">{{totalMoney/(curTotal + notMember) | checkAverage}}</span></h2>
        <a href="javascript:;" ng-click="confirm()" class="btn-s warn confirm">确认</a>
    </div>

</div>