<div class="s-history">
    <ng-include src="'./html/nav.html'"></ng-include>
    <ng-include ng-show="!loaded" src="'./html/loading.html'"></ng-include>
    <ul ng-show="loaded" class="history">
        <li ng-class="{deleted : history.deleted}" ng-switch="history.type" ng-repeat="history in histories" ng-swipe-left="swipeLeft(history.enableRevert)" ng-swipe-right="swipeRight(history.enableRevert)" >
            <div ng-if="history.enableRevert" class="delete" ng-show="showDelete" ng-click="revert(history)">删除</div>
            <div ng-switch-when="1">
                <span class="time">{{history.date}}</span>
                <span class="who">{{history.data.username}}</span>创建<span class="tuan">{{history.data.tuanname}}</span>团
            </div>
            <div ng-switch-when="2">
                <span class="time">{{history.date}}</span>
                <span class="who">{{history.data.username}}</span>加入<span class="tuan">{{history.data.tuanname}}</span>团
            </div>
            <div ng-switch-when="3">
                <span class="time">{{history.date}}</span>
                <span class="who">{{history.data.username}}</span>退出<span class="tuan">{{history.data.tuanname}}</span>团
            </div>
            <div ng-switch-when="5">
                <span class="time">{{history.date}}</span>
                <span class="oldtuan">{{history.data.fromname}}</span>团的团名被<span class="who">{{history.data.username}}</span>修改为<span class="tuan">{{history.data.toname}}</span>
            </div>
            <div ng-switch-when="10">
                <span class="time">{{history.date}}</span>
                <span class="who">{{history.data.username}}</span>请大家<span class="members-count">{{history.data.members.length + history.data.othersnum}}</span>人消费了<span class="money">{{history.data.money}}</span> 元 <span ng-if="!history.included">(除我)</span>
            </div>
            <div ng-switch-when="11">
                <span class="time">{{history.date}}</span>
                <span class="who">{{history.data.username}}</span> 请大家<span class="members-count">{{history.data.members.length}}</span>人消费了<span class="money">{{history.data.money}}</span> 元（已撤销）
            </div>
            <div ng-switch-when="12">
                <span class="time">{{history.date}}</span>
                <span class="who">{{history.data.username}}</span> 请大家<span class="members-count">{{history.data.members.length}}</span>人消费了<span class="money">{{history.data.money}}</span> 元
            </div>
            <div ng-switch-default></div>
        </li>
    </ul>
</div>